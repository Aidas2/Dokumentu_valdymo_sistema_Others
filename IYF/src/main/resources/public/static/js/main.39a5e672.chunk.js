(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(85)},31:function(e,t,a){},33:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),i=a.n(r),s=(a(31),a(2)),l=a(3),o=a(6),u=a(4),d=a(5),m=a(1),h=(a(33),a(24)),p=a.n(h),v=a(25),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleScroll=a.handleScroll.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){this.refs.scrollbars.getValues().top>=1&&(console.log("Reached scroll end!"),e.stopPropagation())}},{key:"render",value:function(){return c.a.createElement(v.Scrollbars,{style:{width:360,height:320},ref:"scrollbars"},this.props.children)}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:a.props.productQuantity},a.increment=a.increment.bind(Object(m.a)(Object(m.a)(a))),a.decrement=a.decrement.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"increment",value:function(e){this.setState(function(e){return{value:Number(e.value)+1}},function(){this.props.updateQuantity(this.state.value)}),e.preventDefault()}},{key:"decrement",value:function(e){if(e.preventDefault(),this.state.value<=1)return this.state.value;this.setState(function(e){return{value:Number(e.value)-1}},function(){this.props.updateQuantity(this.state.value)})}},{key:"feed",value:function(e){this.setState({value:this.refs.feedQty.value},function(){this.props.updateQuantity(this.state.value)})}},{key:"resetQuantity",value:function(){this.setState({value:1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"stepper-input"},c.a.createElement("a",{href:"#",className:"decrement",onClick:this.decrement},"\u2013"),c.a.createElement("input",{ref:"feedQty",type:"number",className:"quantity",value:this.state.value,onChange:this.feed.bind(this)}),c.a.createElement("a",{href:"#",className:"increment",onClick:this.increment},"+"))}}]),t}(n.Component),E=function(e){return c.a.createElement("div",{className:"empty-cart"},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1495427934/icons/empty-cart.png",alt:"empty-cart"}),c.a.createElement("h2",null,"You cart is empty!"))},y=a(10),k=a.n(y),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={showCart:!1,cart:a.props.cartItems,mobileSearch:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleCart",value:function(e){e.preventDefault(),this.setState({showCart:!this.state.showCart})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleMobileSearch",value:function(e){e.preventDefault(),this.setState({mobileSearch:!0})}},{key:"handleSearchNav",value:function(e){e.preventDefault(),this.setState({mobileSearch:!1},function(){this.refs.searchBox.value="",this.props.handleMobileSearch()})}},{key:"handleClickOutside",value:function(e){var t=Object(r.findDOMNode)(this.refs.cartPreview);Object(r.findDOMNode)(this.refs.cartButton);t.classList.contains("active")&&(t&&t.contains(e.target)||(this.setState({showCart:!1}),e.stopPropagation()))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"render",value:function(){var e,t,a=this;return t=(e=this.state.cart.map(function(e){return c.a.createElement("li",{className:"cart-item",key:e.name},c.a.createElement("img",{className:"product-image",src:e.image}),c.a.createElement("div",{className:"product-info"},c.a.createElement("p",{className:"product-name"},e.name),c.a.createElement("p",{className:"product-price"},e.price)),c.a.createElement("div",{className:"product-total"},c.a.createElement("p",{className:"quantity"},e.quantity," ",e.quantity>1?"Nos.":"No."," "),c.a.createElement("p",{className:"amount"},e.quantity*e.price)),c.a.createElement("a",{className:"product-remove",href:"#",onClick:a.props.removeProduct.bind(a,e.id)},"\xd7"))})).length<=0?c.a.createElement(E,null):c.a.createElement(k.a,{transitionName:"fadeIn",transitionEnterTimeout:500,transitionLeaveTimeout:300,component:"ul",className:"cart-items"},e),c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"brand"},c.a.createElement("img",{className:"logo",src:"https://www.petguide.com/wp-content/uploads/2013/02/collie1.jpg",alt:"Kolis"})),c.a.createElement("div",{className:"search"},c.a.createElement("a",{className:"mobile-search",href:"#",onClick:this.handleMobileSearch.bind(this)},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494756966/icons/search-green.png",alt:"search"})),c.a.createElement("form",{action:"#",method:"get",className:this.state.mobileSearch?"search-form active":"search-form"},c.a.createElement("a",{className:"back-button",href:"#",onClick:this.handleSearchNav.bind(this)},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494756030/icons/back.png",alt:"back"})),c.a.createElement("input",{type:"search",ref:"searchBox",placeholder:"Search EXAM products",className:"search-keyword",onChange:this.props.handleSearch}),c.a.createElement("button",{className:"search-button",type:"submit",onClick:this.handleSubmit.bind(this)}))),c.a.createElement("div",{className:"cart"},c.a.createElement("div",{className:"cart-info"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"No. of items"),c.a.createElement("td",null,":"),c.a.createElement("td",null,c.a.createElement("strong",null,this.props.totalItems))),c.a.createElement("tr",null,c.a.createElement("td",null,"Sub Total"),c.a.createElement("td",null,":"),c.a.createElement("td",null,c.a.createElement("strong",null,this.props.total)))))),c.a.createElement("a",{className:"cart-icon",href:"#",onClick:this.handleCart.bind(this),ref:"cartButton"},c.a.createElement("img",{className:this.props.cartBounce?"tada":" ",src:"https://res.cloudinary.com/sivadass/image/upload/v1493548928/icons/bag.png",alt:"Cart"}),this.props.totalItems?c.a.createElement("span",{className:"cart-count"},this.props.totalItems):""),c.a.createElement("div",{className:this.state.showCart?"cart-preview active":"cart-preview",ref:"cartPreview"},c.a.createElement(b,null,t),c.a.createElement("div",{className:"action-block"},c.a.createElement("button",{type:"button",className:this.state.cart.length>0?" ":"disabled"},"PROCEED TO CHECKOUT"))))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedProduct:{},quickViewProdcut:{},isAdded:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addToCart",value:function(e,t,a,n,c){this.setState({selectedProduct:{image:e,name:t,price:a,id:n,quantity:c}},function(){this.props.addToCart(this.state.selectedProduct)}),this.setState({isAdded:!0},function(){var e=this;setTimeout(function(){e.setState({isAdded:!1,selectedProduct:{}})},3500)})}},{key:"quickView",value:function(e,t,a,n){this.setState({quickViewProdcut:{image:e,name:t,price:a,id:n}},function(){this.props.openModal(this.state.quickViewProdcut)})}},{key:"render",value:function(){var e=this.props.image,t=this.props.name,a=this.props.price,n=this.props.id,r=this.props.productQuantity;return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product-image"},c.a.createElement("img",{src:e,alt:this.props.name,onClick:this.quickView.bind(this,e,t,a,n,r)})),c.a.createElement("h4",{className:"product-name"},this.props.name),c.a.createElement("p",{className:"product-price"},this.props.price),c.a.createElement(f,{productQuantity:r,updateQuantity:this.props.updateQuantity,resetQuantity:this.resetQuantity}),c.a.createElement("div",{className:"product-action"},c.a.createElement("button",{className:this.state.isAdded?"added":"",type:"button",onClick:this.addToCart.bind(this,e,t,a,n,r)},this.state.isAdded?"\u2714 ADDED":"ADD TO CART")))}}]),t}(n.Component),j=function(){return c.a.createElement("div",{className:"product loading"},c.a.createElement("div",{className:"product-image"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-button"}))},N=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"products loading"},c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null))}}]),t}(n.Component),S=function(){return c.a.createElement("div",{className:"products"},c.a.createElement("div",{className:"no-results"},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494699523/icons/bare-tree.png",alt:"Empty Tree"}),c.a.createElement("h2",null,"Sorry, no products matched your search!"),c.a.createElement("p",null,"Enter a different keyword and try.")))},C=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props.searchTerm;return t=(e=this.props.productsList.filter(function(e){return function(t){return t.name.toLowerCase().includes(e.toLowerCase())||!e}}(n)).map(function(e){return c.a.createElement(O,{key:e.id,price:e.price,name:e.name,image:e.image,id:e.id,addToCart:a.props.addToCart,productQuantity:a.props.productQuantity,updateQuantity:a.props.updateQuantity,openModal:a.props.openModal})})).length<=0&&!n?c.a.createElement(N,null):e.length<=0&&n?c.a.createElement(S,null):c.a.createElement(k.a,{transitionName:"fadeIn",transitionEnterTimeout:500,transitionLeaveTimeout:300,component:"div",className:"products"},e),c.a.createElement("div",{className:"products-wrapper"},t)}}]),t}(n.Component),w=function(e){return c.a.createElement("footer",null,c.a.createElement("p",{className:"footer-links"},c.a.createElement("a",{href:"https://github.com/Salavija/ExamTask2018",target:"_blank"},"View Source on Github"),c.a.createElement("span",null," / "),c.a.createElement("a",{href:"http://magijuka.lt/image/cache/data/Kaledoms/VYN2_1-1200x1200.jpg",target:"_blank"},"Gra\u017ei\u0173 \u0161ven\u010di\u0173")),c.a.createElement("p",null,"\xa9 2018 ",c.a.createElement("strong",null,"Aurelija Ragaisyte")," - Egzaminas 2018 12 20"))},T=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"handleClickOutside",value:function(e){var t=Object(r.findDOMNode)(this.refs.modal);t&&t.contains(e.target)||this.props.closeModal()}},{key:"handleClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){return c.a.createElement("div",{className:this.props.openModal?"modal-wrapper active":"modal-wrapper"},c.a.createElement("div",{className:"modal",ref:"modal"},c.a.createElement("button",{type:"button",className:"close",onClick:this.handleClose.bind(this)},"\xd7"),c.a.createElement("div",{className:"quick-view"},c.a.createElement("div",{className:"quick-view-image"},c.a.createElement("img",{src:this.props.product.image,alt:this.props.product.name})),c.a.createElement("div",{className:"quick-view-details"},c.a.createElement("span",{className:"product-name"},this.props.product.name),c.a.createElement("span",{className:"product-price"},this.props.product.price)))))}}]),t}(n.Component),M=(a(83),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).getProducts=function(){p.a.get("http://localhost:8081/products").then(function(t){e.setState({products:t.data})})},e.state={products:[],cart:[],totalItems:0,totalAmount:0,term:"",category:"",cartBounce:!1,quantity:1,quickViewProduct:{},modalActive:!1},e.handleSearch=e.handleSearch.bind(Object(m.a)(Object(m.a)(e))),e.handleMobileSearch=e.handleMobileSearch.bind(Object(m.a)(Object(m.a)(e))),e.handleCategory=e.handleCategory.bind(Object(m.a)(Object(m.a)(e))),e.handleAddToCart=e.handleAddToCart.bind(Object(m.a)(Object(m.a)(e))),e.sumTotalItems=e.sumTotalItems.bind(Object(m.a)(Object(m.a)(e))),e.sumTotalAmount=e.sumTotalAmount.bind(Object(m.a)(Object(m.a)(e))),e.checkProduct=e.checkProduct.bind(Object(m.a)(Object(m.a)(e))),e.updateQuantity=e.updateQuantity.bind(Object(m.a)(Object(m.a)(e))),e.handleRemoveProduct=e.handleRemoveProduct.bind(Object(m.a)(Object(m.a)(e))),e.openModal=e.openModal.bind(Object(m.a)(Object(m.a)(e))),e.closeModal=e.closeModal.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getProducts()}},{key:"handleSearch",value:function(e){this.setState({term:e.target.value})}},{key:"handleMobileSearch",value:function(){this.setState({term:""})}},{key:"handleCategory",value:function(e){this.setState({category:e.target.value}),console.log(this.state.category)}},{key:"handleAddToCart",value:function(e){var t=this.state.cart,a=e.id,n=e.quantity;if(this.checkProduct(a)){console.log("hi");var c=t.findIndex(function(e){return e.id==a});t[c].quantity=Number(t[c].quantity)+Number(n),this.setState({cart:t})}else t.push(e);this.setState({cart:t,cartBounce:!0}),setTimeout(function(){this.setState({cartBounce:!1,quantity:1}),console.log(this.state.quantity),console.log(this.state.cart)}.bind(this),1e3),this.sumTotalItems(this.state.cart),this.sumTotalAmount(this.state.cart)}},{key:"handleRemoveProduct",value:function(e,t){var a=this.state.cart,n=a.findIndex(function(t){return t.id==e});a.splice(n,1),this.setState({cart:a}),this.sumTotalItems(this.state.cart),this.sumTotalAmount(this.state.cart),t.preventDefault()}},{key:"checkProduct",value:function(e){return this.state.cart.some(function(t){return t.id===e})}},{key:"sumTotalItems",value:function(){var e;e=this.state.cart.length,this.setState({totalItems:e})}},{key:"sumTotalAmount",value:function(){for(var e=0,t=this.state.cart,a=0;a<t.length;a++)e+=t[a].price*parseInt(t[a].quantity);this.setState({totalAmount:e})}},{key:"updateQuantity",value:function(e){console.log("quantity added..."),this.setState({quantity:e})}},{key:"openModal",value:function(e){this.setState({quickViewProduct:e,modalActive:!0})}},{key:"closeModal",value:function(){this.setState({modalActive:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(g,{cartBounce:this.state.cartBounce,total:this.state.totalAmount,totalItems:this.state.totalItems,cartItems:this.state.cart,removeProduct:this.handleRemoveProduct,handleSearch:this.handleSearch,handleMobileSearch:this.handleMobileSearch,handleCategory:this.handleCategory,categoryTerm:this.state.category,updateQuantity:this.updateQuantity,productQuantity:this.state.moq}),c.a.createElement(C,{productsList:this.state.products,searchTerm:this.state.term,addToCart:this.handleAddToCart,productQuantity:this.state.quantity,updateQuantity:this.updateQuantity,openModal:this.openModal}),c.a.createElement(w,null),c.a.createElement(T,{product:this.state.quickViewProduct,openModal:this.state.modalActive,closeModal:this.closeModal}))}}]),t}(n.Component));i.a.render(c.a.createElement(M,null),document.getElementById("root"));var q=M;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.39a5e672.chunk.js.map